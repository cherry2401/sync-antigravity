# Admin Dashboard Overhaul Plan

## Goal Description
Transform the current basic Admin Dashboard into a professional, modular, and feature-rich administration system. The goal is to provide specific management capabilities for Listings, Users, and Content, along with high-level analytics to track platform performance.

## User Review Required
> [!IMPORTANT]
> This is a major refactor. The existing [AdminDashboard.tsx](file:///i:/Website/BDS/src/components/admin/AdminDashboard.tsx) will be broken down into a layout component and several page/feature components.

## Proposed Changes

### 1. Architecture Refactoring
Break down the monolithic [AdminDashboard.tsx](file:///i:/Website/BDS/src/components/admin/AdminDashboard.tsx) into:
- **[AdminLayout](file:///i:/Website/BDS/src/components/admin/AdminLayout.tsx#12-137)**: Sidebar navigation and Top header (User profile, notifications).
- **[AdminOverview](file:///i:/Website/BDS/src/components/admin/AdminOverview.tsx#11-169)**: The landing page with statistics and charts.
- **[AdminListings](file:///i:/Website/BDS/src/components/admin/AdminListings.tsx#13-156)**: Advanced table for listing management.
- **[AdminUsers](file:///i:/Website/BDS/src/components/admin/AdminUsers.tsx#4-136)**: New section for user management.
- **[AdminNews](file:///i:/Website/BDS/src/components/admin/AdminNews.tsx#16-304)**: Content management system.

### 2. Dashboard Overview (New)
Implement a "Command Center" view containing:
- **Stats Cards**: Total Listings, New Users (Today/Week), Total Views, Revenue (Mock).
- **Activity Chart**: Visual representation of views/listings over time (using Recharts or CSS-based charts).
- **Recent Activity**: Log of latest actions (User X posted Listing Y).

### 3. Listing Management Enhancements
Upgrade the current grid view to a powerful management table:
- **Tabbed View**: All | Pending Approval | Active | Rejected.
- **Quick Actions**: Approve/Reject buttons directly in the list.
- **Filtering**: Filter by Province, Price Range, Type.
- **Status Badges**: Visual indicators for listing status.

### 4. User Management (New)
Create a new section to manage user accounts:
- **User List**: Table showing Name, Email, Phone, Role, Join Date.
- **Actions**: View details, Ban/Unban user, Reset password (mock).

### 5. News & Content
- Improve the editor experience (Rich text or better layout).
- Manage "Featured" news items.

## Detailed Component Structure

### `src/components/admin/`
#### [NEW] `AdminLayout.tsx`
- Sidebar with navigation links.
- Responsive design.

#### [NEW] `AdminOverview.tsx`
- `StatsCard` component.
- `ActivityChart` component.

#### [NEW] `AdminListings.tsx`
- Data table for listings.
- Filter/Search bar.

#### [NEW] `AdminUsers.tsx`
- Data table for users.

#### [MODIFY] `AdminDashboard.tsx`
- Refactor to be the main router/controller that renders `AdminLayout` and switches between the sub-components based on state.

- [x] Refactor `AdminNews` to fetch data from Supabase
- [x] Refactor `AdminNews` to save/delete data to Supabase

## Authentication (Supabase)
- [ ] Create `AuthContext` (`src/contexts/AuthContext.tsx`)
- [ ] Create `LoginPage` (`src/pages/LoginPage.tsx`)
- [ ] Update `App.tsx` to use `AuthProvider` and add Login route
- [ ] Protect `AdminLayout` (redirect to Login if not authenticated)
- [ ] Update Header to show real user info

## Verification Plan

### Manual Verification
- **Navigation**: Verify switching between tabs (Dashboard, Listings, Users, News) works smoothly without page reload.
- **Interactive Elements**: Test Approve/Reject buttons on listings.
- **Responsiveness**: Ensure the dashboard looks good on tablet/desktop.
- **Data Integrity**: Verify that editing a listing in Admin reflects in the public view.
