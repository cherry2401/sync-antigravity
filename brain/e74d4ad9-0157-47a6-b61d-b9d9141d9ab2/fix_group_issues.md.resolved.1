# Fix Wait Group Delay - Dynamic from Sheet

## ğŸ”´ Váº¥n Ä‘á»
Node `Wait Group Delay` reference sai:
```javascript
={{ $('Split Group Media Batch').item.json.delay_seconds }}
```

âŒ **Lá»—i:** Page flow KHÃ”NG cháº¡y qua `Split Group Media Batch` â†’ Node chÆ°a execute

---

## âœ… Giáº£i PhÃ¡p: Reference Node ÄÃºng

### Kiá»ƒm tra Data Flow

**Page Flow:**
```
Update Post Completed â†’ Wait Group Delay1 â†’ Loop Over Items
```

**Group Flow:**
```
... â†’ Update Post Completed1 â†’ Wait Group Delay â†’ Split Group Media Batch
```

### ğŸ¯ Node cáº§n reference

Cáº§n tÃ¬m node MÃ€ Cáº¢ 2 FLOWS Ä‘á»u execute vÃ  CÃ“ `delay_seconds`

**Options:**

#### **Option 1: Reference `Loop Over Items`** (RECOMMENDED)

```javascript
={{ $('Loop Over Items').item.json.delay_seconds || 180 }}
```

**LÃ½ do:**
- âœ… Cáº£ Page vÃ  Group Ä‘á»u cháº¡y qua `Loop Over Items`
- âœ… Data tá»« `Combine Post + Groups Data` cÃ³ `delay_seconds`
- âœ… Fallback 180 náº¿u khÃ´ng cÃ³

---

#### **Option 2: Reference node POST (tÃ¹y flow)**

Náº¿u Want Group Delay chá»‰ cháº¡y sau Page posts:

```javascript
={{ $('Post to Page Timeline (Text)').first().json.delay_seconds || $('Post to Page Timeline (Media)').first().json.delay_seconds || 180 }}
```

**NhÆ°ng** Page posting nodes KHÃ”NG cÃ³ `delay_seconds` trong response!

---

#### **Option 3: Reference `Update Post Completed`**

Náº¿u node nÃ y pass-through data tá»« trÆ°á»›c:

```javascript
={{ $input.first().json.delay_seconds || 180 }}
```

**NHÆ¯NG** cáº§n kiá»ƒm tra xem `Update Post Completed` cÃ³ pass data qua khÃ´ng.

---

## ğŸ“‹ HÆ°á»›ng Dáº«n Fix

### 1ï¸âƒ£ Má» node `Wait Group Delay`

### 2ï¸âƒ£ Thay Ä‘á»•i "Wait Amount":

**XÃ³a:**
```javascript
={{ $('Split Group Media Batch').item.json.delay_seconds }}
```

**Äá»•i thÃ nh (RECOMMENDED):**
```javascript
={{ $('Loop Over Items').item.json.delay_seconds || 180 }}
```

### 3ï¸âƒ£ Test Execute

- Execute node Ä‘á»ƒ verify khÃ´ng cÃ²n lá»—i
- Check output cÃ³ Ä‘Ãºng delay value khÃ´ng

---

## ğŸ” Verify Data

### Kiá»ƒm tra `Loop Over Items` cÃ³ `delay_seconds`:

1. Execute workflow Ä‘áº¿n `Loop Over Items`
2. Check output data:
   ```json
   {
     "delay_seconds": 160,  // â† Cáº§n cÃ³ field nÃ y
     "post_type": "Page",
     ...
   }
   ```

### Náº¿u KHÃ”NG cÃ³ `delay_seconds`:

ThÃ¬ váº¥n Ä‘á» á»Ÿ **`Combine Post + Groups Data`** - pháº£i Ä‘áº£m báº£o output cÃ³ field nÃ y!

Check code node Ä‘Ã³, dÃ²ng:
```javascript
delay_seconds: parseInt(group.json['Delay (seconds)'] || '0') || 0,
```

---

## âœ… Expected Result

Sau khi fix:
- âœ… Page flow: Wait 160s (tá»« row Ä‘áº§u Page trong sheet)
- âœ… Group flow: Wait theo delay cá»§a tá»«ng group (160, 180, 240...)
- âœ… KhÃ´ng cÃ²n lá»—i "node is unexecuted"
