# Fix Group Posting Issues

## 1ï¸âƒ£ FIX "Construct Facebook URL1" (Group Posts)

**Node:** `Construct Facebook URL1` (sau "Create Group Post using Page")

**Thay Ä‘á»•i:**
```javascript
// TÃŒM dÃ²ng nÃ y:
const postId = $json.post_id || '';

// Äá»”I THÃ€NH:
const postId = $json.id || $json.post_id || '';
```

âœ… **Giá»‘ng há»‡t cÃ¡ch fix Page!**

---

## 2ï¸âƒ£ FIX "Wait Group Delay" - Lá»—i Reference

### ğŸ”´ Váº¥n Äá»:
```
An expression references 'Split Group Media Batch', 
but the node is unexecuted.
```

**NguyÃªn nhÃ¢n:** 
- Khi flow cháº¡y qua **Page** posting â†’ khÃ´ng execute `Split Group Media Batch`
- NhÆ°ng `Wait Group Delay` váº«n cá»‘ gáº¯ng láº¥y data tá»« node Ä‘Ã³ â†’ **Lá»–I**

### âœ… Giáº£i PhÃ¡p: 2 options

#### **Option 1: ÄÆ¡n giáº£n - Fixed Delay** (RECOMMENDED)

**Node:** `Wait Group Delay`

**Thay Ä‘á»•i "Wait Amount":**
```javascript
// XÃ“A expression hiá»‡n táº¡i:
={{ $('Split Group Media Batch').item.json.delay_seconds }}

// Äá»”I THÃ€NH fixed value:
180
```

â¡ï¸ **Delay cá»‘ Ä‘á»‹nh 180 giÃ¢y (3 phÃºt)**

---

#### **Option 2: Dynamic Delay - DÃ¹ng node gáº§n nháº¥t**

**Node:** `Wait Group Delay`

**Thay Ä‘á»•i "Wait Amount":**
```javascript
// XÃ“A:
={{ $('Split Group Media Batch').item.json.delay_seconds }}

// Äá»”I THÃ€NH (reference node TRÆ¯á»šC nÃ³):
={{ $('Update Post Completed').item.json.delay_seconds || 180 }}
```

**NHÆ¯NG** cáº§n thÃªm field `delay_seconds` vÃ o node `Update Post Completed`:
- Trong expression cá»§a node Ä‘Ã³, thÃªm: `delay_seconds: 180`

---

## ğŸ“Š So SÃ¡nh 2 Options

| Option | Æ¯u Ä‘iá»ƒm | NhÆ°á»£c Ä‘iá»ƒm |
|--------|---------|------------|
| **1. Fixed Delay** | âœ… ÄÆ¡n giáº£n<br>âœ… KhÃ´ng lá»—i | âš ï¸ KhÃ´ng linh hoáº¡t |
| **2. Dynamic** | âœ… CÃ³ thá»ƒ customize<br>âœ… Láº¥y tá»« config | âš ï¸ Phá»©c táº¡p hÆ¡n<br>âš ï¸ Cáº§n sá»­a thÃªm node |

---

## ğŸ¯ Recommendation

**DÃ¹ng Option 1 - Fixed Delay:**
1. Má»Ÿ node `Wait Group Delay`
2. XÃ³a expression
3. Nháº­p: `180` (3 phÃºt)
4. Save

**LÃ½ do:**
- ÄÆ¡n giáº£n, khÃ´ng lá»—i
- Delay giá»¯a posts thÆ°á»ng cá»‘ Ä‘á»‹nh
- Náº¿u cáº§n customize sau, cÃ³ thá»ƒ Ä‘á»•i sang Option 2

---

## âœ… Checklist

- [ ] Fix `Construct Facebook URL1`: `$json.id || $json.post_id`
- [ ] Fix `Wait Group Delay`: xÃ³a expression, dÃ¹ng `180`
- [ ] Test workflow vá»›i Page post
- [ ] Test workflow vá»›i Group post
