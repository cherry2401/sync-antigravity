# Update Model Selection to Default Ultra with #pro Override

## Goal

Update VEO3 workflow to default to Ultra models, with `#pro` hashtag allowing users to downgrade to regular models. Also clean `#pro` from prompts.

## Proposed Changes

### Text-to-Video Flow

#### [MODIFY] [Edit Fields](file:///i:/Workflow/n8n/Test/VEO3/VEO3_V2.json)

**Field: `videoModelKey`**

Current logic: Always uses regular models

New logic:
```javascript
{{ $('Telegram Trigger').item.json.message.text?.toLowerCase().includes('#pro') ? 
   ($('Telegram Trigger').item.json.message.text.toLowerCase().includes('#doc') ? 'veo_3_1_t2v_fast_portrait' : 'veo_3_1_t2v_fast') 
   : 
   ($('Telegram Trigger').item.json.message.text.toLowerCase().includes('#doc') ? 'veo_3_1_t2v_fast_portrait_ultra' : 'veo_3_1_t2v_fast_ultra') 
}}
```

**Field: `prompt`**

Add `#pro` to removal list:
```javascript
{{ ($('Telegram Trigger').item.json.message.text).replace(/#doc/gi, '').replace(/#ngang/gi, '').replace(/#portrait/gi, '').replace(/#landscape/gi, '').replace(/#pro/gi, '').trim() }}
```

---

### Image-to-Video Flow

#### [MODIFY] [Edit Fields (Image)](file:///i:/Workflow/n8n/Test/VEO3/VEO3_V2.json)

**Field: `videoModelKey`**

Current logic: Regular models

New logic:
```javascript
{{ $('Telegram Trigger').item.json.message.caption?.toLowerCase().includes('#pro') ? 
   ($('Telegram Trigger').item.json.message.caption?.toLowerCase().includes('#ngang') ? 'veo_3_1_i2v_s_fast_fl' : 'veo_3_1_i2v_s_fast_portrait_fl')
   :
   ($('Telegram Trigger').item.json.message.caption?.toLowerCase().includes('#ngang') ? 'veo_3_1_i2v_s_fast_ultra_fl' : 'veo_3_1_i2v_s_fast_portrait_ultra_fl')
}}
```

**Field: `prompt`**

Add `#pro` to removal:
```javascript
{{ ($('Telegram Trigger').item.json.message.caption || 'Create video from this image').replace(/#doc/gi, '').replace(/#ngang/gi, '').replace(/#portrait/gi, '').replace(/#landscape/gi, '').replace(/#pro/gi, '').trim() }}
```

## User Instructions

User sends Telegram message:
- **Default (Ultra)**: `"tạo video robot"` → Uses `veo_3_1_t2v_fast_ultra`
- **With #pro**: `"tạo video robot #pro"` → Uses `veo_3_1_t2v_fast`
- **Ultra + Portrait**: `"tạo video robot #doc"` → Uses `veo_3_1_t2v_fast_portrait_ultra`
- **Pro + Portrait**: `"tạo video robot #doc #pro"` → Uses `veo_3_1_t2v_fast_portrait`
