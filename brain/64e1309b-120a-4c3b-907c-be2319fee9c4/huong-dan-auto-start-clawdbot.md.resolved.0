# HÆ°á»›ng dáº«n Tá»± Ä‘á»™ng khá»Ÿi Ä‘á»™ng Clawdbot trÃªn Windows

## ğŸ“‹ Tá»•ng quan
HÆ°á»›ng dáº«n nÃ y giÃºp cÃ i Ä‘áº·t Clawdbot Gateway tá»± Ä‘á»™ng khá»Ÿi Ä‘á»™ng khi boot Windows vÃ  cháº¡y ngáº§m á»Ÿ background (khÃ´ng hiá»‡n cá»­a sá»• CMD).

---

## âœ… BÆ°á»›c 1: CÃ i Ä‘áº·t Daemon Service

### 1.1. Má»Ÿ PowerShell as Administrator
- Nháº¥n `Win + X`
- Chá»n **"Terminal (Admin)"** hoáº·c **"Windows PowerShell (Admin)"**

### 1.2. Cháº¡y lá»‡nh cÃ i Ä‘áº·t
```powershell
cd G:\AIHub\clawdbot
pnpm clawdbot daemon install
```

**Káº¿t quáº£:** Sáº½ táº¡o Task Scheduler tÃªn "Clawdbot Gateway" Ä‘á»ƒ tá»± Ä‘á»™ng cháº¡y khi login Windows.

---

## ğŸ”§ BÆ°á»›c 2: Sá»­a Task Ä‘á»ƒ cháº¡y áº©n hoÃ n toÃ n (QUAN TRá»ŒNG)

### 2.1. Táº¡o file VBScript Ä‘á»ƒ cháº¡y áº©n
1. Táº¡o thÆ° má»¥c `C:\Scripts\` (náº¿u chÆ°a cÃ³)
2. Táº¡o file `start-clawdbot-hidden.vbs` trong thÆ° má»¥c Ä‘Ã³ vá»›i ná»™i dung:

```vbscript
Set WshShell = CreateObject("WScript.Shell")
WshShell.Run "cmd /c cd /d G:\AIHub\clawdbot && pnpm clawdbot gateway", 0, False
Set WshShell = Nothing
```

### 2.2. Chá»‰nh sá»­a Task Scheduler
1. **Má»Ÿ Task Scheduler:**
   - Nháº¥n `Win + R`, gÃµ `taskschd.msc`

2. **TÃ¬m task "Clawdbot Gateway":**
   - Trong **Task Scheduler Library**, tÃ¬m task "Clawdbot Gateway"

3. **Chá»‰nh sá»­a Properties:**
   - Nháº¥n chuá»™t pháº£i â†’ **Properties**

4. **Tab General:**
   - âœ… Tick **"Run only when user is logged on"**
   - âœ… Tick **"Hidden"**

5. **Tab Actions:**
   - Nháº¥n **Edit** action hiá»‡n cÃ³
   - Thay Ä‘á»•i:
     - **Program/script:** `wscript.exe`
     - **Add arguments:** `C:\Scripts\start-clawdbot-hidden.vbs`
     - **Start in:** (Ä‘á»ƒ trá»‘ng)
   - Nháº¥n **OK**

6. **Nháº¥n OK Ä‘á»ƒ lÆ°u**
   - Náº¿u há»i password: Ä‘á»ƒ trá»‘ng vÃ  nháº¥n OK (náº¿u Windows khÃ´ng cÃ³ password)

---

## ğŸ¯ BÆ°á»›c 3: Tá»± Ä‘á»™ng má»Ÿ Dashboard khi boot (TÃ¹y chá»n)

### 3.1. Táº¡o file Script
Táº¡o file `start-dashboard.bat` táº¡i `C:\Scripts\` vá»›i ná»™i dung:

```batch
@echo off
timeout /t 15 /nobreak
start http://localhost:18789/chat
```

### 3.2. ThÃªm vÃ o Startup
1. Nháº¥n `Win + R`, gÃµ `shell:startup`
2. Copy file `start-dashboard.bat` vÃ o thÆ° má»¥c nÃ y
   - Hoáº·c táº¡o **Shortcut** cá»§a file `.bat` vÃ  copy shortcut vÃ o

---

## ğŸš€ BÆ°á»›c 4: Khá»Ÿi Ä‘á»™ng ngay (khÃ´ng cáº§n restart mÃ¡y)

```powershell
pnpm clawdbot daemon start
```

---

## ğŸ“Š Kiá»ƒm tra tráº¡ng thÃ¡i

### Kiá»ƒm tra daemon
```powershell
pnpm clawdbot daemon status
```

**Káº¿t quáº£ mong muá»‘n:**
```
Runtime: running
RPC probe: ok
Listening: 0.0.0.0:18789
```

### Kiá»ƒm tra health
```powershell
pnpm clawdbot health
```

### Truy cáº­p Dashboard
Má»Ÿ trÃ¬nh duyá»‡t: `http://localhost:18789/chat`

---

## ğŸ”„ CÃ¡c lá»‡nh quáº£n lÃ½ thÆ°á»ng dÃ¹ng

| Má»¥c Ä‘Ã­ch | Lá»‡nh |
|----------|------|
| **Khá»Ÿi Ä‘á»™ng daemon** | `pnpm clawdbot daemon start` |
| **Dá»«ng daemon** | `pnpm clawdbot daemon stop` |
| **Restart daemon** | `pnpm clawdbot daemon restart` |
| **Kiá»ƒm tra tráº¡ng thÃ¡i** | `pnpm clawdbot daemon status` |
| **Gá»¡ cÃ i Ä‘áº·t daemon** | `pnpm clawdbot daemon uninstall` |
| **Kiá»ƒm tra health** | `pnpm clawdbot health` |

---

## ğŸ› Xá»­ lÃ½ sá»± cá»‘

### Lá»—i: "Access is denied" khi install
- **NguyÃªn nhÃ¢n:** ChÆ°a cháº¡y PowerShell as Administrator
- **Giáº£i phÃ¡p:** Má»Ÿ PowerShell as Admin (Win + X â†’ Terminal Admin)

### Lá»—i: Gateway bá»‹ disconnect khi táº¯t CMD
- **NguyÃªn nhÃ¢n:** Äang cháº¡y gateway thá»§ cÃ´ng thay vÃ¬ qua daemon
- **Giáº£i phÃ¡p:** 
  1. Dá»«ng gateway thá»§ cÃ´ng (Ctrl + C)
  2. Cháº¡y `pnpm clawdbot daemon start`

### Lá»—i: Váº«n hiá»‡n cá»­a sá»• CMD khi cháº¡y
- **NguyÃªn nhÃ¢n:** ChÆ°a dÃ¹ng VBScript hoáº·c chÆ°a sá»­a Task Scheduler
- **Giáº£i phÃ¡p:** LÃ m láº¡i **BÆ°á»›c 2** á»Ÿ trÃªn

### Kiá»ƒm tra log khi cÃ³ lá»—i
```powershell
notepad \tmp\clawdbot\clawdbot-2026-01-22.log
```

---

## âœ¨ Káº¿t quáº£ cuá»‘i cÃ¹ng

Sau khi hoÃ n thÃ nh:
- âœ… Gateway tá»± Ä‘á»™ng khá»Ÿi Ä‘á»™ng khi boot Windows
- âœ… Cháº¡y ngáº§m á»Ÿ background (khÃ´ng hiá»‡n cá»­a sá»•)
- âœ… Dashboard tá»± Ä‘á»™ng má»Ÿ sau 15 giÃ¢y (náº¿u setup BÆ°á»›c 3)
- âœ… CÃ³ thá»ƒ táº¯t PowerShell/CMD mÃ  gateway váº«n cháº¡y
- âœ… Restart mÃ¡y â†’ Gateway tá»± Ä‘á»™ng cháº¡y láº¡i

---

## ğŸ“ Ghi chÃº

- File config: [C:\Users\Cherry\.clawdbot\clawdbot.json](file:///Users/Cherry/.clawdbot/clawdbot.json)
- Sau khi sá»­a config, cáº§n restart daemon: `pnpm clawdbot daemon restart`
- Gateway listen trÃªn: `ws://0.0.0.0:18789`
- Dashboard: `http://localhost:18789/chat`

---

**NgÃ y táº¡o:** 22/01/2026  
**NgÆ°á»i táº¡o:** Tá»•ng há»£p tá»« quÃ¡ trÃ¬nh cÃ i Ä‘áº·t thá»±c táº¿
