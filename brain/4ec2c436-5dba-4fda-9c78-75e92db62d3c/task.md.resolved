# Auto CDP Connector Implementation

## H∆∞·ªõng 1: Auto CDP Port Scanner (M≈®I NH·ªåN)
- [x] Th√™m CDP port scanner v√†o [browserRelay.ts](file:///f:/Python/OpenSSH/clawdbot-client/electron/services/browserRelay.ts) - qu√©t port 9222
- [x] T·ª± ƒë·ªông k·∫øt n·ªëi CDP endpoint khi ph√°t hi·ªán Chrome debugging port
- [x] ∆Øu ti√™n tab ƒëang active (page type, non-chrome URLs)
- [x] C·∫≠p nh·∫≠t StatusBar indicator (CDP Direct, tooltip)
- [x] Extreme HMR Fix & Stability üöÅ
    - [x] Migrate communication files to system `AppData` (userData)
    - [x] Expose [getCommDir](file:///f:/Python/OpenSSH/clawdbot-client/electron/preload.ts#41-42) API in Electron Main/Preload
    - [x] Refactor [BrowserRelay](file:///f:/Python/OpenSSH/clawdbot-client/electron/services/browserRelay.ts#61-676) to use AppData paths for CDP
    - [x] Update [App.tsx](file:///f:/Python/OpenSSH/clawdbot-client/src/App.tsx), [ChatPanel.tsx](file:///f:/Python/OpenSSH/clawdbot-client/src/components/ChatPanel.tsx), [ChopperLogs.tsx](file:///f:/Python/OpenSSH/clawdbot-client/src/components/ChopperLogs.tsx) to use dynamic paths
    - [x] Fix chat session/watcher race condition
    - [x] Cleanup: Delete local `data/` folder and update [CHOPPER_GUIDE.md](file:///f:/Python/OpenSSH/clawdbot-client/CHOPPER_GUIDE.md)
- [x] ‚ö†Ô∏è **Blocked by Windows Security** - Port 9222 kh√¥ng bind ƒë∆∞·ª£c

## H∆∞·ªõng 2: Extension Auto-Attach (TRI·ªÇN KHAI) ‚úÖ
- [x] Th√™m `chrome.tabs.onUpdated` listener v√†o [background.js](file:///f:/Python/OpenSSH/chrome-extension/background.js)
- [x] T·ª± ƒë·ªông attach khi tab load xong (`status === 'complete'`)
- [x] Badge lu√¥n hi·ªán ON t·ª± ƒë·ªông
- [x] S·ª≠a l·ªói HTTP 404 preflight block Extension k·∫øt n·ªëi
- [x] C·∫≠p nh·∫≠t StatusBar sang m√†u xanh üü¢ khi Extension connect
- [x] Tinh ch·ªânh UI: ƒê·ªìng b·ªô icon Circle, m√†u s·∫Øc v√† x√≥a emoji d∆∞ th·ª´a (Balanced UI)
- [x] T·∫°o h∆∞·ªõng d·∫´n c√†i Extension (SETUP_GUIDE.md)
- [x] S·ª≠a l·ªói HMR loop & N√¢ng c·∫•p Watcher l√™n c·∫•p Global ‚úÖ
- [x] T·∫°o h∆∞·ªõng d·∫´n v·∫≠n h√†nh cho Chopper (CHOPPER_GUIDE.md)
- [x] Ki·ªÉm tra th·ª±c t·∫ø: H·ªá th·ªëng ƒë√£ ch·∫°y im l·∫∑ng v√† ·ªïn ƒë·ªãnh! üü¢

## T√†i li·ªáu
- [x] H∆∞·ªõng d·∫´n c√†i Extension Auto-Attach
